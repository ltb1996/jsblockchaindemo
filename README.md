## ✨ 特性

- ✅ **完整的区块链实现** - 包含区块、链、挖矿等核心功能
- ✅ **P2P网络同步** - 多节点间自动同步区块链数据
- ✅ **命令行交互** - 友好的命令行界面，易于操作
- ✅ **纯JavaScript实现** - 无需复杂依赖，易于理解和学习
- ✅ **Node.js 22+ 兼容** - 支持最新Node.js版本

## 🚀 快速开始

### 环境要求
- Node.js 16.0.0 或更高版本
- npm 8.0.0 或更高版本

### 安装步骤

# 2. 进入项目目录
cd blockchain

# 3. 安装依赖
npm install

# 4. 启动项目
npm start
```

## 📖 使用指南

### 启动后可用命令：

#### 基础命令
```bash
blockchain      # 查看当前区块链状态
mine "数据内容"  # 挖矿创建新区块（将数据写入区块链）
peers           # 查看已连接的对等节点
help            # 显示帮助信息
```

#### 网络命令
```bash
open <端口号>    # 开启网络监听端口（示例：open 2727）
connect <地址> <端口>  # 连接到其他节点（示例：connect localhost 2727）
```

### 完整使用示例

1. **启动第一个节点**
   ```bash
   npm start
   open 2727
   mine "第一个区块数据"
   blockchain
   ```

2. **启动第二个节点**（新终端窗口）
   ```bash
   npm start  
   open 2728
   connect localhost 2727
   blockchain  # 查看数据是否同步
   mine "第二个节点数据"
   ```

3. **验证同步**
   在两个节点中都运行 `blockchain`，确认数据一致

## 🏗️ 项目结构

```
blockchain/
├── Block.js          # 区块类实现
├── Blockchain.js     # 区块链类实现  
├── P2p.js           # P2P网络通信模块
├── Messages.js      # 消息类型定义
├── message-type.js  # 消息类型枚举
├── cli.js          # 命令行交互界面
├── index.js        # 程序入口文件
└── package.json    # 项目配置和依赖
```

## 🎯 学习要点

通过本项目您可以学习到：

### 1. 区块链核心概念
- **区块结构**：哈希、时间戳、数据、前一个区块哈希
- **工作量证明**：挖矿难度和Nonce值计算
- **链式结构**：通过哈希值连接区块形成链

### 2. 网络同步机制
- **P2P通信**：节点间直接通信，无需中心服务器
- **数据广播**：新区块自动广播到整个网络
- **一致性验证**：网络选择最长有效链

### 3. 密码学应用
- **SHA256哈希**：用于区块唯一标识和数据完整性验证
- **数字签名**：交易验证的基础（扩展功能）

## 🔧 技术细节

### 网络协议
- 使用 **纯TCP协议** 实现P2P通信
- 支持多节点自动发现和数据同步
- 消息格式为JSON，易于调试和理解

### 性能优化
- 异步网络IO，支持高并发连接
- 智能消息缓冲，处理TCP流数据分割
- 连接状态管理，避免重复连接

## ❓ 常见问题

### Q: 为什么需要多个节点？
A: 区块链的本质是分布式系统，多节点可以演示数据同步、共识机制等核心概念。

### Q: 挖矿难度如何调整？
A: 在Blockchain.js中可以调整DIFFICULTY常量来改变挖矿难度。

### Q: 如何扩展功能？
A: 可以添加交易系统、钱包功能、智能合约等模块来扩展项目。

## 📚 学习资源

- [比特币白皮书](https://bitcoin.org/bitcoin.pdf)
- [区块链技术指南](https://github.com/yeasy/blockchain_guide)
- [Node.js网络编程](https://nodejs.org/api/net.html)

